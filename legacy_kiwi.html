<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Legacy KIWI vs. Next Generation &#8212; kiwi 8.25.5 documentation</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '8.25.5',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="top" title="kiwi 8.25.5 documentation" href="index.html" />
    <link rel="next" title="Development and Contributing" href="contributing.html" />
    <link rel="prev" title="Building in a Self-Contained Environment" href="container_builder.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="legacy-kiwi-vs-next-generation">
<span id="legacy-kiwi"></span><h1>Legacy KIWI vs. Next Generation<a class="headerlink" href="#legacy-kiwi-vs-next-generation" title="Permalink to this headline">¶</a></h1>
<div class="topic">
<p class="topic-title first">Abstract</p>
<p>Users currently have the choice for the kiwi legacy version
or this next generation kiwi. This document describes the
maintenance state of the legacy kiwi version and under which
circumstances the use of the legacy kiwi version is required.</p>
</div>
<p>There is still the former <a class="reference external" href="https://github.com/openSUSE/kiwi">KIWI</a>
version and we decided to rewrite it.</p>
<p>The reasons to rewrite software from scratch could be very different
and should be explained in order to let users understand why it
makes sense. We are receiving feedback and defect reports from a
variety of groups with different use cases and requirements. It
became more and more difficult to handle those requests in good
quality and without regressions. At some point we asked ourselves:</p>
<blockquote>
<div><code class="xref py py-obj docutils literal"><span class="pre">Is</span> <span class="pre">KIWI</span> <span class="pre">really</span> <span class="pre">well</span> <span class="pre">prepared</span> <span class="pre">for</span> <span class="pre">future</span> <span class="pre">challenges?</span></code></div></blockquote>
<p>The conclusion was that the former version has some major weaknesses
which has to be addressed prior to continue with future development.
The following issues are most relevant:</p>
<ul class="simple">
<li>Not based on a modern programming language</li>
<li>Major design flaws but hardly any unit tests. The risk for
regressions on refactoring is high</li>
<li>No arch specific build integration tests</li>
<li>Lots of legacy code for old distributions</li>
</ul>
<p>In order to address all of these the questions came up:</p>
<blockquote>
<div><p><code class="xref py py-obj docutils literal"><span class="pre">How</span> <span class="pre">to</span> <span class="pre">modernize</span> <span class="pre">the</span> <span class="pre">project</span> <span class="pre">without</span> <span class="pre">producing</span> <span class="pre">regressions?</span></code></p>
<p><code class="xref py py-obj docutils literal"><span class="pre">How</span> <span class="pre">to</span> <span class="pre">change/drop</span> <span class="pre">features</span> <span class="pre">without</span> <span class="pre">making</span> <span class="pre">anybody</span> <span class="pre">unhappy?</span></code></p>
</div></blockquote>
<p>As there is no good way to achieve this in the former code base the
decision was made to start a rewrite of KIWI with a maintained and
stable version in the background.</p>
<p>Users will be able to use both versions in parallel. In addition, the
next generation KIWI will be fully compatible with the current format of
the appliance description. This means, users can build an appliance from
the same appliance description with the legacy and the next generation
KIWI, if the distribution and all configured features are supported by
the used KIWI version.</p>
<p>This provides an opportunity for users to test the next generation KIWI
with their appliance descriptions without risk. If it builds and works
as expected, I recommend to switch to the next generation KIWI. If not,
please open an issue on <a class="reference external" href="https://github.com/SUSE/kiwi">https://github.com/SUSE/kiwi</a>.</p>
<p>The legacy KIWI version will be further developed in maintenance mode.
There won&#8217;t be any new features added in that code base though.
Packages will be available at the known place:
<a class="reference external" href="http://download.opensuse.org/repositories/Virtualization:/Appliances">Legacy KIWI packages</a></p>
<div class="section" id="when-do-i-need-to-use-the-legacy-kiwi">
<h2>When Do I need to use the legacy kiwi<a class="headerlink" href="#when-do-i-need-to-use-the-legacy-kiwi" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>If you are building images using one of the features of the dropped
features list below.</li>
<li>If you are building images for an older distribution compared to
the list on the main page, see <a class="reference internal" href="index.html#supported-distributions"><span class="std std-ref">Supported Distributions</span></a>.</li>
</ul>
</div>
<div class="section" id="dropped-features">
<h2>Dropped Features<a class="headerlink" href="#dropped-features" title="Permalink to this headline">¶</a></h2>
<p>The following features have been dropped. If you make use of them
consider to use the legacy KIWI version.</p>
<ul>
<li><p class="first">Split systems</p>
<p>The legacy KIWI version supports building of split systems
which uses a static definition of files and directories marked
as read-only or read-write. Evolving technologies like overlayfs
makes this feature obsolete.</p>
</li>
<li><p class="first">ZFS filesystem</p>
<p>The successor for ZFS is Btrfs in the opensource world. All major
distributions put on Btrfs. This and the proprietary attitude of
ZFS obsoletes the feature.</p>
</li>
<li><p class="first">Reiserfs filesystem</p>
<p>The number of people using this filesystem is decreasing. For image
building reiserfs was an interesting filesystem however with Btrfs and
XFS there are good non inode based alternatives out there. Therefore we
don&#8217;t continue supporting Reiserfs.</p>
</li>
<li><p class="first">Btrfs seed based live systems</p>
<p>A Btrfs seed device is an alternative for other copy on write
filesystems like overlayfs. Unfortunately the stability of the seed
device when used as cow part in a live system was not as good as we
provide with overlayfs and clicfs. Therefore this variant is no longer
supported. We might think of adding this feature back if people demand
it.</p>
</li>
<li><p class="first">lxc container format</p>
<p>lxc has a successor in docker based on the former lxc technology.
Many distributions also dropped the lxc tools from the distribution
in favour of docker.</p>
</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/kiwi-logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Legacy KIWI vs. Next Generation</a><ul>
<li><a class="reference internal" href="#when-do-i-need-to-use-the-legacy-kiwi">When Do I need to use the legacy kiwi</a></li>
<li><a class="reference internal" href="#dropped-features">Dropped Features</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="container_builder.html" title="previous chapter">Building in a Self-Contained Environment</a></li>
      <li>Next: <a href="contributing.html" title="next chapter">Development and Contributing</a></li>
  </ul></li>
</ul>
</div>
<h1 class="logo"><a href="index.html">kiwi</a></h1>






<p>
<iframe src="https://ghbtns.com/github-btn.html?user=SUSE&repo=kiwi&type=watch&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





    

<p>
<a href="https://travis-ci.org/SUSE/kiwi">
    <img
        alt="https://secure.travis-ci.org/SUSE/kiwi.svg?branch=master"
        src="https://secure.travis-ci.org/SUSE/kiwi.svg?branch=master"
    />
</a>
</p>



<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2016, Marcus Schäfer.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.4.8</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.9</a>
      
      |
      <a href="_sources/legacy_kiwi.txt"
          rel="nofollow">Page source</a>
    </div>

    
    <a href="https://github.com/SUSE/kiwi" class="github">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"  class="github"/>
    </a>
    

    
  </body>
</html>